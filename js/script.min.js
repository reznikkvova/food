window.addEventListener("DOMContentLoaded",()=>{var e,t;e=function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")},(t=new Image).onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";const n=document.querySelectorAll(".tabheader__item"),o=document.querySelectorAll(".tabcontent"),s=document.querySelector(".tabheader__items");function a(){o.forEach(e=>{e.classList.add("hide"),e.classList.remove("show","fade")}),n.forEach(e=>{e.classList.remove("tabheader__item_active")})}function c(e=0){o[e].classList.add("show","fade"),o[e].classList.remove("hide"),n[e].classList.add("tabheader__item_active")}a(),c(),s.addEventListener("click",e=>{const t=e.target;t&&t.classList.contains("tabheader__item")&&n.forEach((e,n)=>{t==e&&(a(),c(n))})});function i(e){return e>=0&&e<10?"0"+e:e}!function(e,t){const n=document.querySelector(e),o=n.querySelector("#days"),s=n.querySelector("#hours"),a=n.querySelector("#minutes"),c=n.querySelector("#seconds"),r=setInterval(l,1e3);function l(){const e=function(e){const t=Date.parse(e)-Date.parse(new Date);return{total:t,days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/6e4%60),seconds:Math.floor(t/1e3%60)}}(t);o.innerHTML=i(e.days),s.innerHTML=i(e.hours),a.innerHTML=i(e.minutes),c.innerHTML=i(e.seconds),e.total<=0&&clearInterval(r)}l()}(".timer","2021-03-25");const r=document.querySelectorAll("[data-modal]"),l=document.querySelector(".modal"),d=document.querySelector("[data-close]");function u(){l.classList.toggle("show"),document.body.style.overflow="hidden"}function m(){l.classList.toggle("show"),document.body.style.overflow=""}r.forEach(e=>{e.addEventListener("click",u)}),d.addEventListener("click",m),l.addEventListener("click",e=>{e.target===l&&m()}),document.addEventListener("keydown",e=>{"Escape"===e.code&&l.classList.contains("show")&&m()}),window.addEventListener("scroll",(function e(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(u(),window.removeEventListener("scroll",e))}));class h{constructor(e,t,n,o,s,a,...c){this.src=e,this.alt=t,this.title=n,this.descr=o,this.price=s,this.classes=c,this.parent=document.querySelector(a),this.transfer=27,this.changeToUAH()}changeToUAH(){this.price=this.price*this.transfer}render(){const e=document.createElement("div");0===this.classes.length?(this.element="menu__item",e.classList.add(this.element)):this.classes.forEach(t=>e.classList.add(t)),this.classes.forEach(t=>e.classList.add(t)),e.innerHTML=`\n                \n                    <img src=${this.src} alt=${this.alt}>\n                    <h3 class="menu__item-subtitle">${this.title}</h3>\n                    <div class="menu__item-descr">${this.descr}</div>\n                    <div class="menu__item-divider"></div>\n                    <div class="menu__item-price">\n                        <div class="menu__item-cost">Цена:</div>\n                        <div class="menu__item-total"><span>${this.price}</span> грн/день</div>\n                    </div>\n                \n            `,this.parent.append(e)}}new h("img/vegy.jpg","vegy",'Меню "Фитнес"','Меню "Фитнес" - это новый подход к приготовлению блюд: больше свежих овощей и фруктов. Продукт активных и здоровых людей. Это абсолютно новый продукт с оптимальной ценой и высоким качеством!',9,".menu .container").render(),new h("img/post.jpg","post",'Меню "Постное"',"Меню “Постное” - это тщательный подбор ингредиентов: полное отсутствие продуктов животного происхождения, молоко из миндаля, овса, кокоса или гречки, правильное количество белков за счет тофу и импортных вегетарианских стейков.",14,".menu .container","menu__item").render(),new h("img/elite.jpg","elite","Меню “Премиум”","В меню “Премиум” мы используем не только красивый дизайн упаковки, но и качественное исполнение блюд. Красная рыба, морепродукты, фрукты - ресторанное меню без похода в ресторан!",21,".menu .container","menu__item").render();let g=0,y=1;const _=document.querySelectorAll(".offer__slide"),f=document.querySelector(".offer__slider"),v=document.querySelector(".offer__slider-prev"),p=document.querySelector(".offer__slider-next"),L=document.querySelector("#total"),S=document.querySelector("#current"),A=document.querySelector(".offer__slider-wrapper"),w=window.getComputedStyle(A).width,E=document.querySelector(".offer__slider-inner");_.length<10?(L.textContent="0"+_.length,S.textContent="0"+y):(L.textContent=_.length,S.textContent=y),E.style.width=100*_.length+"%",E.style.display="flex",E.style.transition="0.5s all",A.style.overflow="hidden",_.forEach(e=>{e.style.width=w});const b=document.createElement("ol"),q=[];f.style.position="relative",b.classList.add("carousel-indicators"),f.append(b);for(let e=0;e<_.length;e++){const t=document.createElement("li");t.setAttribute("data-slide-to",e+1),t.classList.add("dot"),0==e&&(t.style.opacity=1),b.append(t),q.push(t)}p.addEventListener("click",()=>{g==+w.slice(0,w.length-2)*(_.length-1)?g=0:g+=+w.slice(0,w.length-2),E.style.transform=`translateX(-${g}px)`,y==_.length?y=1:y++,_.length<10?S.textContent="0"+y:S.textContent=y,q.forEach(e=>e.style.opacity=".5"),q[y-1].style.opacity="1"}),v.addEventListener("click",()=>{0==g?g=+w.slice(0,w.length-2)*(_.length-1):g-=+w.slice(0,w.length-2),E.style.transform=`translateX(-${g}px)`,1==y?y=_.length:y--,_.length<10?S.textContent="0"+y:S.textContent=y,q.forEach(e=>e.style.opacity=".5"),q[y-1].style.opacity="1"}),q.forEach(e=>{e.addEventListener("click",e=>{const t=e.target.getAttribute("data-slide-to");y=t,g=+w.slice(0,w.length-2)*(t-1),E.style.transform=`translateX(-${g}px)`,_.length<10?S.textContent="0"+y:S.textContent=y,q.forEach(e=>e.style.opacity=".5"),q[y-1].style.opacity="1"})});const x=document.querySelector(".calculating__result span");let I,C,k,M,H;function $(e,t){document.querySelectorAll(e).forEach(e=>{e.classList.remove(t),e.getAttribute("id")===localStorage.getItem("sex")&&e.classList.add(t),e.getAttribute("data-ratio")===localStorage.getItem("ratio")&&e.classList.add(t)})}function T(){x.textContent=I&&C&&k&&M&&H?"female"===I?Math.round((447.6+9.2*k+3.1*C-4.3*M)*H):Math.round((88.36+13.4*k+4.8*C-5.7*M)*H):"____"}function D(e,t){const n=document.querySelectorAll(e);n.forEach(e=>{e.addEventListener("click",e=>{e.target.getAttribute("data-ratio")?(H=+e.target.getAttribute("data-ratio"),localStorage.setItem("ratio",+e.target.getAttribute("data-ratio"))):(I=e.target.getAttribute("id"),localStorage.setItem("sex",e.target.getAttribute("id"))),n.forEach(e=>{e.classList.remove(t)}),e.target.classList.add(t),T()})})}function j(e){const t=document.querySelector(e);t.addEventListener("input",()=>{switch(t.value.match(/\D/g)?t.style.border="1px solid red":t.style.border="none",t.getAttribute("id")){case"height":C=+t.value;break;case"weight":k=+t.value;break;case"age":M=+t.value}T()})}localStorage.getItem("sex")?I=localStorage.getItem("sex"):(I="female",localStorage.setItem("sex","female")),localStorage.getItem("ratio")?H=localStorage.getItem("ratio"):(H=1.375,localStorage.setItem("ratio",1.375)),$("#gender div","calculating__choose-item_active"),$(".calculating__choose_big div","calculating__choose-item_active"),D("#gender div","calculating__choose-item_active"),D(".calculating__choose_big div","calculating__choose-item_active"),j("#height"),j("#weight"),j("#age")});